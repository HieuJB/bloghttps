(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26e1e28a"],{"37d3":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"bg-white mx-auto h-full shadow-inner grid grid-cols-6 text-xs lg:text-sm"},[a("Header"),a("div",{staticClass:"col-span-6 md:col-span-5 "},[a("Slidebar"),t.loadingPage?t._e():a("div",[a("LoadingAnimation")],1),t.loadingPage?a("div",{staticClass:"grid grid-cols-4 pt-2"},[t._l(t.ArticleById,(function(e,i){return a("div",{key:i,staticClass:"reverseorder col-span-4 md:col-span-3"},[a("div",{staticClass:"p-2 relative"},[a("img",{staticClass:"object-cover h-60 md:h-96 w-full  rounded-2xl border-8 border-blue-50 shadow-2xl blur-2xl",attrs:{src:e.background_img}}),a("div",{staticClass:"w-full lg:w-10/12 mx-auto bg-white rounded-2xl shadow-2xl border-8 border-blue-50 p-2 mt-2 md:absolute top-3/4 left-0 right-0 "},[a("button",{staticClass:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},[t._v(" "+t._s(e.name_categorie)+" ")]),a("h1",{staticClass:"pt-2 font-medium text-xl text-gray-700"},[t._v(t._s(e.heading))]),a("div",{staticClass:"flex justify-between"},[a("div",{staticClass:"flex py-4"},[a("div",[a("img",{staticClass:"inline object-cover w-12 h-12 mr-2 rounded-full border-2 border-gray-300 hover:border-green-500 cursor-pointer transform hover:scale-110  ",attrs:{src:e.avatar_link}})]),a("div",{staticClass:"flex flex-col"},[a("a",{staticClass:"font-medium text-blue-500",attrs:{href:""}},[t._v(t._s(e.name))]),a("p",{staticClass:"font-medium text-gray-600",attrs:{href:""}},[t._v(t._s("Invalid date"==t.Datatime?"ƒê·ª£i x√°c nh·∫≠n":t.Datatime))])])]),a("span",{staticClass:"text-gray-400 mr-3 inline-flex items-center lg:ml-auto md:ml-0 ml-auto leading-none text-sm pr-3 py-1 border-r-2 border-gray-200"},[a("svg",{staticClass:"w-4 h-4 mr-1",attrs:{stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}}),a("circle",{attrs:{cx:"12",cy:"12",r:"3"}})]),t._v(t._s(e.hit_count)+" l∆∞·ª£t xem ")])]),a("audio",{attrs:{controls:""}},[a("source",{attrs:{src:e.podcast,type:"audio/mpeg"}})]),a("div",{staticClass:"py-2"},[a("div",{domProps:{innerHTML:t._s(e.content)}}),a("div",{staticClass:"mt-5 relative"},[a("div",{staticClass:"mb-2"},[a("div",{staticClass:"flex justify-between"},[t.isLogin?a("svg",{staticClass:"h-7 w-7 text-blue-200 cursor-pointer mb-2",class:t.isLike?"text-pink-600":"",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},on:{click:t.like}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"}})]):t._e(),t.isLogin?a("svg",{staticClass:"h-7 w-7 text-blue-200 cursor-pointer mb-2",class:t.isSave?"text-pink-600":"",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},on:{click:t.save}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z","clip-rule":"evenodd"}})]):t._e()]),a("p",{staticClass:"text-gray-600 font-medium px-1"},[t._v(t._s(t.realtime_like)+" l∆∞·ª£t th√≠ch")])]),t.isLogin?a("div",{staticClass:"w-full "},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.content_comment,expression:"content_comment"}],staticClass:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-1/2 py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",attrs:{id:"inline-full-name",type:"text",value:"",placeholder:"Nh·∫≠p b√¨nh lu·∫≠n t·∫°i ƒë√¢y...."},domProps:{value:t.content_comment},on:{input:function(e){e.target.composing||(t.content_comment=e.target.value)}}}),a("button",{staticClass:" ml-2 shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-3 px-4 rounded",attrs:{type:"button"},on:{click:t.commentToFireBase}},[t._v(" B√¨nh lu·∫≠n ")])]):t._e(),a("div",{staticClass:"py-2"},[a("p",{staticClass:"font-medium text-gray-600"},[t._v(t._s(t.comment_show.length)+" B√¨nh lu·∫≠n")])]),a("div",{staticClass:"flex flex-col-reverse"},t._l(t.comment_show,(function(i,s){return a("div",{key:s,staticClass:"flex flex-col   py-2  p-2  rounded-2xl border-2 border-indigo-100 mt-2"},[a("div",{staticClass:"flex"},[a("div",[a("img",{staticClass:"inline object-cover w-12 h-12 mr-2 rounded-full border-2 border-gray-300 hover:border-green-500 cursor-pointer transform hover:scale-110  ",attrs:{src:i.avatar,alt:"Profile image"}})]),a("router-link",{staticClass:"flex flex-col",attrs:{to:{name:"Profile",params:{name:i.name}}}},[a("a",{staticClass:"font-medium text-blue-500",attrs:{href:""}},[t._v(t._s(i.name==e.name?i.name+" (Author) ü§ó":i.name))]),a("p",{staticClass:"font-medium text-gray-500",attrs:{href:""}},[t._v(t._s(t.moment(i.published_at).fromNow()))])])],1),a("div",{staticClass:"text-gray-500 font-medium "},[a("p",{staticClass:"py-2"},[t._v(t._s(i.content))]),a("p",{staticClass:"pb-2 cursor-pointer hover:text-green-600 font-medium text-gray-600",on:{click:function(e){return t.reply(s)}}},[t._v("Tr·∫£ l·ªùi")]),s==t.id_show?a("div",{staticClass:"w-full"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.replyofreply,expression:"replyofreply"}],staticClass:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-1/2 py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",attrs:{id:"inline-full-name",type:"text",value:"",placeholder:"Nh·∫≠p tr·∫£ l·ªùi t·∫°i ƒë√¢y...."},domProps:{value:t.replyofreply},on:{input:function(e){e.target.composing||(t.replyofreply=e.target.value)}}}),a("button",{staticClass:" ml-2 shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded",attrs:{type:"button"},on:{click:function(e){return t.replychild(s,i.id,i.name)}}},[t._v(" Tr·∫£ l·ªùi ")])]):t._e(),a("div",{staticClass:"flex flex-col-reverse"},t._l(i.reply,(function(i,s){return a("div",{key:s,staticClass:"w-11/12 mx-auto flex flex-col py-2  p-2  rounded-2xl border-2 border-indigo-100 mt-2"},[a("div",{staticClass:"flex"},[a("div",[a("img",{staticClass:"inline object-cover w-12 h-12 mr-2 rounded-full border-2 border-gray-300 hover:border-green-500 cursor-pointer transform hover:scale-110  ",attrs:{src:i.avatar,alt:"Profile image"}})]),a("router-link",{staticClass:"flex flex-col",attrs:{to:{name:"Profile",params:{name:i.name}}}},[a("a",{staticClass:"font-medium text-blue-500",attrs:{href:""}},[t._v(t._s(i.name==e.name?i.name+" (Author) ü§ó":i.name))]),a("p",{attrs:{href:""}},[t._v(t._s(t.moment(i.published_at).fromNow()))])])],1),a("div",{staticClass:"text-gray-700 "},[a("p",{staticClass:"py-2"},[t._v(t._s(i.content))])])])})),0)])])})),0)])])])])])})),a("RelatedPost")],2):t._e()],1)],1)])},s=[],r=a("5530"),o=(a("b0c0"),a("159b"),a("b64b"),a("6645")),n=a("260b"),l=(a("e71f"),a("dc58")),c=a("20af"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-span-4 md:col-span-1 relative"},[a("h1",{staticClass:"font-medium py-2 pl-3 text-gray-600"},[t._v("TIN LI√äN QUAN")]),a("div",{staticClass:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1"},t._l(t.RelatedArticles,(function(e,i){return a("div",{key:i,staticClass:"w-11/12  mx-auto rounded-2xl bg-white shadow-2xl  mb-2  "},[a("img",{staticClass:"object-cover h-32 w-full rounded-xl border-8 border-blue-50",attrs:{src:e.background_img}}),a("router-link",{staticClass:"pl-2 font-medium text-blue-500 hover:text-blue-600",attrs:{to:{name:"Post",params:{id:e.id}}}},[t._v(t._s(e.heading))]),a("div",{staticClass:"flex px-2 py-2"},[a("div",[a("img",{staticClass:"inline object-cover w-12 h-12 mr-2 rounded-full border-2 border-gray-300 hover:border-green-500 cursor-pointer transform hover:scale-110  ",attrs:{src:e.avatar_link,alt:"Profile image"}})]),a("div",{staticClass:"flex flex-col"},[a("router-link",{staticClass:"font-medium",attrs:{to:{name:"Profile",params:{name:e.name}},href:""}},[t._v(t._s(e.name))]),a("p",{attrs:{href:""}},[t._v(t._s(t.moment(e.published_at).format("k:mm-MMM-Qo")))])],1)])],1)})),0)])},d=[],m=a("2f62"),h={name:"RelatedPost",computed:Object(m["c"])(["RelatedArticles"])},v=h,p=a("2877"),f=Object(p["a"])(v,u,d,!1,null,null,null),b=f.exports,g={name:"Post",components:{Header:l["a"],Slidebar:c["a"],LoadingAnimation:o["a"],RelatedPost:b},data:function(){return{isLike:!1,isSave:!1,realtime_like:"0",user_key:"",content_comment:"",comment_show:[],id_show:"",replyofreply:"",realtime_count_post:"",loading:!1,keySave:"",loadingPage:!1}},computed:Object(m["c"])(["ArticleById","isLogin","userName","Datatime","avatar","id","GetComment"]),methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(m["b"])(["actiongetArticleById","actionGetRelatedArticles","actionLikePost","actionCommentPost","actionaddComment","actionaddCommentChild","actionCountViewPost"])),Object(m["d"])(["TESTLOAD_DATA"])),{},{getArticleById:function(){this.actiongetArticleById(this.$route.params.id)},GetRelatedArticles:function(){this.actionGetRelatedArticles(this.$route.params.id)},like:function(){var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),a=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();if(this.isLike=!this.isLike,this.isLike){var i={};i["LikePost".concat(this.$route.params.id)]=parseInt(this.realtime_like)+parseInt(1),n["a"].database().ref().update(i);var s=n["a"].database().ref("LikePostUser".concat(this.$route.params.id));if(s.push({name:this.userName}),this.ArticleById[0].name!==this.userName){var r=n["a"].database().ref("NotificationLikePost");r.push({name:this.userName,author:this.ArticleById[0].name,router:this.$route.params.id,content:"ƒê√£ th√≠ch b√†i vi·∫øt c·ªßa b·∫°n",time:e+" "+a,avatar:this.avatar});var o=n["a"].database().ref("ShowNotificationLikePost");o.push({name:this.userName,author:this.ArticleById[0].name,router:this.$route.params.id,content:"ƒê√£ th√≠ch b√†i vi·∫øt c·ªßa b·∫°n: ",time:e+" "+a,avatar:this.avatar})}}else{i={};i["LikePost".concat(this.$route.params.id)]=parseInt(this.realtime_like)-parseInt(1),n["a"].database().ref().update(i);var l={};l["/LikePostUser".concat(this.$route.params.id,"/")+this.user_key]={name:""},n["a"].database().ref().update(l)}},save:function(){var t=this;if(0==this.isSave){var e=n["a"].database().ref("SavePost");e.push({background:this.ArticleById[0].background_img,heading:this.ArticleById[0].heading,router:this.$route.params.id,categorie:this.ArticleById[0].name_categorie,name:this.userName}).then((function(e){t.keySave=e.key})),this.isSave=!0}else{var a={};a["/SavePost/"+this.keySave]="",n["a"].database().ref().update(a),this.isSave=!1}},checkSave:function(){var t=this,e=n["a"].database().ref("SavePost");e.on("value",(function(e){var a=e.val();Object.keys(a).forEach((function(e){if(a[e].name==t.userName)return t.keySave=e,t.isSave=!0,!0}))}))},makeid:function(t){for(var e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=a.length,s=0;s<t;s++)e+=a.charAt(Math.floor(Math.random()*i));return e},commentToFireBase:function(){var t=this.makeid(20);if(""!=this.content_comment){var e=new Date,a=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),i=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),s=n["a"].database().ref("CommentPost".concat(this.$route.params.id));if(s.push({id:t,name:this.userName,avatar:this.avatar,content:this.content_comment,article_id:this.$route.params.id,user_id:this.id,published_at:a+" "+i}),this.userName!==this.ArticleById[0].name){var r=n["a"].database().ref("NotificationLikePost");r.push({name:this.userName,author:this.ArticleById[0].name,router:this.$route.params.id,content:"ƒê√£ b√¨nh lu·∫≠n b√†i vi·∫øt c·ªßa b·∫°n: "+this.content_comment,time:a+" "+i,avatar:this.avatar});var o=n["a"].database().ref("ShowNotificationLikePost");o.push({name:this.userName,author:this.ArticleById[0].name,router:this.$route.params.id,content:"ƒê√£ b√¨nh lu·∫≠n b√†i vi·∫øt c·ªßa b·∫°n: "+this.content_comment,time:a+" "+i,avatar:this.avatar})}this.actionaddComment({content:this.content_comment,article_id:this.$route.params.id,user_id:this.id,is_published:1,token:t}),this.content_comment=""}},reply:function(t){this.id_show=t},replychild:function(t,e,a){if(""!=this.replyofreply){var i=new Date,s=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),r=i.getHours()+":"+i.getMinutes()+":"+i.getSeconds(),o=n["a"].database().ref("CommentPost".concat(this.$route.params.id)).child(t).child("reply");if(o.push({id:e,name:this.userName,avatar:this.avatar,content:this.replyofreply,article_id:this.$route.params.id,user_id:this.id,published_at:s+" "+r}),a!==this.userName){var l=n["a"].database().ref("NotificationLikePost");l.push({name:this.userName,author:a,router:this.$route.params.id,content:"ƒê√£ tr·∫£ l·ªùi b√¨nh lu·∫≠n c·ªßa b·∫°n: "+this.replyofreply,time:s+" "+r,avatar:this.avatar});var c=n["a"].database().ref("ShowNotificationLikePost");c.push({name:this.userName,author:a,router:this.$route.params.id,content:"ƒê√£ tr·∫£ l·ªùi b√¨nh lu·∫≠n c·ªßa b·∫°n: "+this.replyofreply,time:s+" "+r,avatar:this.avatar})}this.actionaddCommentChild({token:e,user_id:this.id,content:this.replyofreply}),this.replyofreply=""}},getCommentFromFireBase:function(){var t=this,e=n["a"].database().ref("CommentPost".concat(this.$route.params.id));e.on("value",(function(e){var a=e.val();a&&(t.comment_show=a)}))},setLikeDefault:function(){var t=this,e=n["a"].database().ref("LikePost".concat(this.$route.params.id));e.on("value",(function(e){var a=e.val();if(!a){var i=n["a"].database().ref("LikePost".concat(t.$route.params.id));i.set(0)}}))},getRealtimeLikeFromFirebase:function(){var t=this,e=n["a"].database().ref("LikePost".concat(this.$route.params.id));e.on("value",(function(e){var a=e.val();t.realtime_like=a}))},checkuserLikeFromFireBase:function(){var t=this,e=n["a"].database().ref("LikePostUser".concat(this.$route.params.id));e.on("value",(function(e){var a=e.val();Object.keys(a).forEach((function(e){if(a[e].name==t.userName)return t.isLike=!0,void(t.user_key=e)}))}))},GetCountViewPostFromFireBase:function(){var t=this,e=n["a"].database().ref("CountViewPost".concat(this.$route.params.id));e.on("value",(function(e){var a=e.val();if(a)t.realtime_count_post=a;else{var i=n["a"].database().ref("CountViewPost".concat(t.$route.params.id));i.set(1)}}))},setCountPostFromFireBase:function(){var t={};t["CountViewPost".concat(this.$route.params.id)]=parseInt(this.realtime_count_post)+parseInt(1),n["a"].database().ref().update(t)}}),created:function(){var t=this;this.checkSave();var e=n["a"].database().ref("NotificationLikePost");e.once("value").then((function(t){var a=t.exists();0==a&&e.push({name:" ",author:" ",router:" ",content:" ",time:" ",avatar:" "})}));var a=n["a"].database().ref("NotificationLikePostChild");a.once("value").then((function(t){var e=t.exists();0==e&&a.push({name:" ",author:" ",router:" ",content:" ",time:" ",avatar:" "})})),setTimeout((function(){t.loading=!0,t.setCountPostFromFireBase()}),6e4),this.GetCountViewPostFromFireBase(),this.getArticleById(),this.GetRelatedArticles(),this.setLikeDefault(),this.getRealtimeLikeFromFirebase(),this.checkuserLikeFromFireBase()},mounted:function(){var t=this;setTimeout((function(){t.loadingPage=!0}),1e3),this.getCommentFromFireBase()},watch:{realtime_like:function(){this.actionLikePost({id:this.$route.params.id,like_count:this.realtime_like})},realtime_count_post:function(){this.loading&&this.actionCountViewPost({id:this.$route.params.id,hit_count:this.realtime_count_post}),this.loading=!1}}},_=g,y=Object(p["a"])(_,i,s,!1,null,null,null);e["default"]=y.exports},6645:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex items-center justify-center mt-10 mb-14 "},[a("svg",{staticClass:"w-24 h-24 text-red-600 animate-spin",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"}})])])},s=[],r={name:"LoadingAnimation"},o=r,n=a("2877"),l=Object(n["a"])(o,i,s,!1,null,null,null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-26e1e28a.ae049892.js.map